<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-12-31T13:48:00.000Z" agent="Kiro" version="22.1.0">
  <diagram id="mpoc-sdk-arch" name="MPoC SDK Architecture">
    <mxGraphModel dx="1600" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="title" value="SUNBAY MPoC SDK æ¨¡å—æž¶æž„ä¸Ž API äº¤äº’æµç¨‹ (v2.8)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=24;fontStyle=1;fontColor=#FF6000;" vertex="1" parent="1">
          <mxGeometry x="300" y="20" width="1000" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="subtitle" value="å››é˜¶æ®µåˆå§‹åŒ–æµç¨‹ï¼šè®¾å¤‡æ³¨å†Œ â†’ è¯ä¹¦ç­¾å‘ â†’ å¯†é’¥åˆå§‹åŒ– â†’ äº¤æ˜“å¤„ç†" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=2;fontColor=#666;" vertex="1" parent="1">
          <mxGeometry x="400" y="65" width="800" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="api-info" value="API ç«¯ç‚¹: MPoC/api (A/M-Backend) | /POSP/api (POSP) | /RKI/api/v1 (HSM)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;fontStyle=2;fontColor=#999;" vertex="1" parent="1">
          <mxGeometry x="450" y="90" width="700" height="20" as="geometry"/>
        </mxCell>
        <!-- SDK Container -->
        <mxCell id="android-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF6000;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="40" y="120" width="520" height="700" as="geometry"/>
        </mxCell>
        <mxCell id="android-title" value="ðŸ“± MPoC SDK (AAR Library)" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=20;fontStyle=1;fontColor=#FF6000;" vertex="1" parent="1">
          <mxGeometry x="120" y="135" width="360" height="35" as="geometry"/>
        </mxCell>
        
        <!-- Phase 1: Device Registration -->
        <mxCell id="phase1-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="175" width="480" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="phase1-title" value="é˜¶æ®µä¸€: è®¾å¤‡æ³¨å†Œ (Device Registration)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=12;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="70" y="180" width="250" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="mod-device" value="ðŸ“‹ DeviceManager&#xa;è®¾å¤‡æ³¨å†Œ/çŠ¶æ€ç®¡ç†" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="205" width="140" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="mod-security" value="ðŸ” SecurityChecker&#xa;å®‰å…¨çŽ¯å¢ƒæ£€æµ‹" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="205" width="140" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="api1" value="POST /devices/register&#xa;POST /threats/report" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=2;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="370" y="210" width="160" height="35" as="geometry"/>
        </mxCell>
        
        <!-- Phase 2: Certificate Signing -->
        <mxCell id="phase2-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#E65100;strokeWidth=2;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="265" width="480" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="phase2-title" value="é˜¶æ®µäºŒ: è¯ä¹¦ç­¾å‘ (Certificate Signing)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=12;fontStyle=1;fontColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="70" y="270" width="250" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="mod-cert" value="ðŸ“œ CertManager&#xa;ECCå¯†é’¥å¯¹ç”Ÿæˆ/CSRåˆ›å»º/è¯ä¹¦å­˜å‚¨" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#E65100;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="295" width="290" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="api2" value="POST /certificates/sign" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=2;fontColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="370" y="302" width="160" height="20" as="geometry"/>
        </mxCell>
        
        <!-- Phase 3: Key Initialization -->
        <mxCell id="phase3-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=2;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="345" width="480" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="phase3-title" value="é˜¶æ®µä¸‰: å¯†é’¥åˆå§‹åŒ– (Key Initialization)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=12;fontStyle=1;fontColor=#388E3C;" vertex="1" parent="1">
          <mxGeometry x="70" y="350" width="250" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="mod-key" value="ðŸ”‘ KeyManager&#xa;DUKPTå¯†é’¥ä¸‹è½½ (SE/TEE)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="375" width="140" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="mod-whitebox" value="ðŸ›¡ï¸ WhiteBoxEngine&#xa;DH-ECCå¯†é’¥äº¤æ¢ (WhiteBox)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="375" width="140" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="api3" value="POST /keys/confirm&#xa;POST /keys/ecc/exchange&#xa;POST /RKI/api/v1/keys/download" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=2;fontColor=#388E3C;" vertex="1" parent="1">
          <mxGeometry x="370" y="380" width="160" height="40" as="geometry"/>
        </mxCell>
        
        <!-- Phase 4: Transaction Processing -->
        <mxCell id="phase4-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="60" y="455" width="480" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="phase4-title" value="é˜¶æ®µå››: äº¤æ˜“å¤„ç† (Transaction Processing)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=12;fontStyle=1;fontColor=#C2185B;" vertex="1" parent="1">
          <mxGeometry x="70" y="460" width="250" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="mod-crypto" value="ðŸ” CryptoEngine&#xa;PINåŠ å¯†" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="485" width="100" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="mod-token" value="ðŸŽ« TokenManager&#xa;äº¤æ˜“ä»¤ç‰Œç®¡ç†" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="485" width="100" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="mod-txn" value="ðŸ’³ TransactionProcessor&#xa;äº¤æ˜“é‰´è¯" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;fontSize=10;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="485" width="120" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="api4" value="POST /transactions/attest" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=2;fontColor=#C2185B;" vertex="1" parent="1">
          <mxGeometry x="420" y="500" width="110" height="20" as="geometry"/>
        </mxCell>
        
        <!-- Infrastructure -->
        <mxCell id="infra-title" value="åŸºç¡€è®¾æ–½ (Infrastructure)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=12;fontStyle=1;fontColor=#BF360C;" vertex="1" parent="1">
          <mxGeometry x="70" y="565" width="200" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="mod-api" value="ðŸŒ BackendApi (HTTP/TLS 1.3 + WebSocket)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF8A65;strokeColor=#BF360C;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="590" width="460" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="mod-keystore" value="ðŸ” Android Keystore (è®¾å¤‡è¯ä¹¦+ç§é’¥å­˜å‚¨)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFAB91;strokeColor=#BF360C;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="635" width="220" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="tee-storage" value="ðŸ”’ TEE/SE å®‰å…¨å­˜å‚¨ (DUKPTå¯†é’¥)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#689F38;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="635" width="230" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="wb-storage" value="ðŸ›¡ï¸ WhiteBox ä¿æŠ¤å†…å­˜ (ä¼šè¯å¯†é’¥)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="680" width="220" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="ws-client" value="ðŸ”” WebSocket Client (å®žæ—¶é€šçŸ¥)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCBC;strokeColor=#BF360C;strokeWidth=2;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="680" width="230" height="35" as="geometry"/>
        </mxCell>
        
        <!-- Backend Services -->
        <mxCell id="backend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="600" y="120" width="280" height="200" as="geometry"/>
        </mxCell>
        <mxCell id="backend-title" value="ðŸ–¥ï¸ A/M-Backend" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=18;fontStyle=1;fontColor=#388E3C;" vertex="1" parent="1">
          <mxGeometry x="650" y="135" width="180" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="backend-apis" value="â€¢ è®¾å¤‡æ³¨å†Œç®¡ç†&#xa;â€¢ è¯ä¹¦ç­¾å‘åè°ƒ&#xa;â€¢ å¯†é’¥ä¸‹è½½ç¡®è®¤&#xa;â€¢ ECCå¯†é’¥äº¤æ¢&#xa;â€¢ äº¤æ˜“é‰´è¯Token&#xa;â€¢ WebSocketæŽ¨é€" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="620" y="170" width="240" height="120" as="geometry"/>
        </mxCell>
        
        <!-- POSP -->
        <mxCell id="posp-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="600" y="340" width="280" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="posp-title" value="ðŸ¦ SUNBAY POSP" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=18;fontStyle=1;fontColor=#C2185B;" vertex="1" parent="1">
          <mxGeometry x="650" y="355" width="180" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="posp-apis" value="â€¢ TokenéªŒè¯&#xa;â€¢ PINè½¬åŠ å¯†&#xa;â€¢ äº¤æ˜“è·¯ç”±" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="620" y="390" width="240" height="60" as="geometry"/>
        </mxCell>
        
        <!-- HSM -->
        <mxCell id="hsm-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FFA000;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="600" y="480" width="280" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="hsm-title" value="ðŸ” RKI CloudHSM" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=18;fontStyle=1;fontColor=#FFA000;" vertex="1" parent="1">
          <mxGeometry x="650" y="495" width="180" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="hsm-apis" value="â€¢ CAè¯ä¹¦ç­¾å‘&#xa;â€¢ DUKPTå¯†é’¥ä¸‹è½½&#xa;â€¢ PINè½¬åŠ å¯†" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="620" y="530" width="240" height="60" as="geometry"/>
        </mxCell>
        
        <!-- External Processor -->
        <mxCell id="processor-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="600" y="620" width="280" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="processor-title" value="ðŸ’³ Processor" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=18;fontStyle=1;fontColor=#7B1FA2;" vertex="1" parent="1">
          <mxGeometry x="650" y="635" width="180" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="processor-desc" value="TSYS/Fiserv/Elavon" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="650" y="665" width="180" height="25" as="geometry"/>
        </mxCell>
        
        <!-- App Container -->
        <mxCell id="app-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="920" y="120" width="200" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="app-title" value="ðŸ“± Android App" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=18;fontStyle=1;fontColor=#0277BD;" vertex="1" parent="1">
          <mxGeometry x="940" y="135" width="160" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="app-desc" value="â€¢ è°ƒç”¨SDKå‡½æ•°&#xa;â€¢ ç›´æŽ¥æäº¤äº¤æ˜“åˆ°POSP&#xa;â€¢ æ˜¾ç¤ºäº¤æ˜“ç»“æžœ" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="940" y="170" width="160" height="60" as="geometry"/>
        </mxCell>
        
        <!-- Arrows and Connections -->
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#1976D2;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="200" as="sourcePoint"/>
            <mxPoint x="600" y="200" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow1-label" value="è®¾å¤‡æ³¨å†Œ/å¨èƒä¸ŠæŠ¥" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="480" y="180" width="100" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#E65100;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="300" as="sourcePoint"/>
            <mxPoint x="600" y="250" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2-label" value="CSRç­¾å‘" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#E65100;" vertex="1" parent="1">
          <mxGeometry x="500" y="270" width="60" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#388E3C;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="400" as="sourcePoint"/>
            <mxPoint x="600" y="280" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3-label" value="å¯†é’¥ç¡®è®¤/ECCäº¤æ¢" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#388E3C;" vertex="1" parent="1">
          <mxGeometry x="470" y="330" width="100" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="arrow4" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#C2185B;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="500" as="sourcePoint"/>
            <mxPoint x="600" y="300" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow4-label" value="äº¤æ˜“é‰´è¯" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#C2185B;" vertex="1" parent="1">
          <mxGeometry x="500" y="390" width="60" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="arrow5" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFA000;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="420" as="sourcePoint"/>
            <mxPoint x="600" y="540" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow5-label" value="DUKPTå¯†é’¥ä¸‹è½½" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#FFA000;" vertex="1" parent="1">
          <mxGeometry x="380" y="470" width="100" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="arrow6" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#0277BD;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="200" as="sourcePoint"/>
            <mxPoint x="560" y="200" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow6-label" value="å‡½æ•°è°ƒç”¨" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#0277BD;" vertex="1" parent="1">
          <mxGeometry x="720" y="180" width="60" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="arrow7" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#C2185B;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="920" y="240" as="sourcePoint"/>
            <mxPoint x="880" y="400" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow7-label" value="ç›´æŽ¥æäº¤äº¤æ˜“" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#C2185B;" vertex="1" parent="1">
          <mxGeometry x="890" y="310" width="80" height="15" as="geometry"/>
        </mxCell>
        
        <mxCell id="arrow8" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#7B1FA2;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="740" y="460" as="sourcePoint"/>
            <mxPoint x="740" y="620" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow8-label" value="äº¤æ˜“è·¯ç”±" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=9;fontColor=#7B1FA2;" vertex="1" parent="1">
          <mxGeometry x="750" y="530" width="60" height="15" as="geometry"/>
        </mxCell>
        
        <!-- TEE Type Legend -->
        <mxCell id="tee-legend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#9E9E9E;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="730" width="470" height="85" as="geometry"/>
        </mxCell>
        <mxCell id="tee-legend-title" value="TEE ç±»åž‹ä¸Žå¯†é’¥æ¨¡å¼å¯¹åº”å…³ç³»" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=11;fontStyle=1;fontColor=#666;" vertex="1" parent="1">
          <mxGeometry x="70" y="735" width="200" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="tee-se" value="â€¢ SE (Secure Element): DUKPTå¯†é’¥ä¸‹è½½ â†’ å­˜å‚¨åˆ°SEèŠ¯ç‰‡å†… (â­â­â­ æœ€é«˜å®‰å…¨çº§åˆ«)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="752" width="450" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="tee-tee" value="â€¢ TEE (ARM TrustZone): DUKPTå¯†é’¥ä¸‹è½½ â†’ å­˜å‚¨åˆ°TEEå®‰å…¨åŒº (â­â­ é«˜å®‰å…¨çº§åˆ«)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="768" width="450" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="tee-wb" value="â€¢ WhiteBox (è½¯ä»¶ç™½ç›’): DH-ECCå¯†é’¥äº¤æ¢ â†’ å­˜å‚¨åˆ°WhiteBoxä¿æŠ¤å†…å­˜ (â­ ä¸­ç­‰å®‰å…¨çº§åˆ«)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="784" width="450" height="14" as="geometry"/>
        </mxCell>
        <mxCell id="tee-note" value="âš ï¸ é‡è¦: DUKPTå¯†é’¥å¿…é¡»å­˜å‚¨åœ¨TEE/SEå®‰å…¨çŽ¯å¢ƒå†…ï¼Œä¸èƒ½å­˜å‚¨åˆ°Android Keystore" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=2;fontColor=#C62828;" vertex="1" parent="1">
          <mxGeometry x="70" y="800" width="450" height="14" as="geometry"/>
        </mxCell>
        
        <!-- Responsibility Note -->
        <mxCell id="responsibility-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FF6000;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="920" y="260" width="200" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="responsibility-title" value="èŒè´£åˆ’åˆ†" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=12;fontStyle=1;fontColor=#FF6000;" vertex="1" parent="1">
          <mxGeometry x="940" y="270" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="responsibility-desc" value="SDK: TokenèŽ·å– + PINåŠ å¯†&#xa;App: äº¤æ˜“æäº¤åˆ°POSP&#xa;POSP: TokenéªŒè¯ + è·¯ç”±" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="930" y="295" width="180" height="55" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

# SUNBAY SoftPOS é¡¹ç›®æ¶æ„ç›®å½•æ ‘

**ç‰ˆæœ¬**: v2.1  
**æ›´æ–°æ—¥æœŸ**: 2024-12-09  
**ç»´æŠ¤è€…**: SUNBAY æŠ€æœ¯å›¢é˜Ÿ

---

## é¡¹ç›®æ¦‚è§ˆ

SUNBAY SoftPOS æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç§»åŠ¨æ”¯ä»˜ç»ˆç«¯ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œé‡‡ç”¨äº”ç«¯åˆ†ç¦»æ¶æ„ï¼š

| é¡¹ç›® | æŠ€æœ¯æ ˆ | ä»£ç é‡ | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|--------|--------|------|
| **sunbay-softpos-backend** | Rust + Axum + SQLite | ~15,000è¡Œ | 100% | âœ… ç”Ÿäº§å°±ç»ª |
| **sunbay-softpos-frontend** | React 18 + TypeScript + Ant Design | ~5,000è¡Œ | 83% | âœ… ç”Ÿäº§å°±ç»ª |
| **sunbay-softpos-android** | Kotlin + Jetpack Compose | ~8,000è¡Œ | 95% | âœ… ç”Ÿäº§å°±ç»ª |
| **sunbay-kernel-service** | Rust + WebAssembly | ~3,000è¡Œ | 100% | âœ… ç”Ÿäº§å°±ç»ª |
| **sunbay-webkernel-demo** | React 19 + TypeScript + WASM | ~2,000è¡Œ | 100% | âœ… ç”Ÿäº§å°±ç»ª |
| **æ€»è®¡** | - | **~33,000è¡Œ** | **88%** | âœ… ç”Ÿäº§å°±ç»ª |

---

## æ ¹ç›®å½•ç»“æ„

```
SoftPOS/
â”œâ”€â”€ ğŸ“ sunbay-softpos-backend/      # åç«¯æœåŠ¡ (Rust)
â”œâ”€â”€ ğŸ“ sunbay-softpos-frontend/     # ç®¡ç†åå° (React)
â”œâ”€â”€ ğŸ“ sunbay-softpos-android/      # Androidåº”ç”¨ (Kotlin)
â”œâ”€â”€ ğŸ“ sunbay-kernel-service/       # å†…æ ¸æœåŠ¡ (Rust + WASM)
â”œâ”€â”€ ğŸ“ sunbay-webkernel-demo/       # Webæ¼”ç¤º (React + WASM)
â”œâ”€â”€ ğŸ“ docs/                        # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ ğŸ“ solution/                # æ–¹æ¡ˆæ–‡æ¡£
â”œâ”€â”€ ğŸ“ .kiro/                       # Kiro IDE é…ç½®
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®æ€»è§ˆ
â”œâ”€â”€ ğŸ“„ CHANGELOG.md                 # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ ğŸ“„ KSN_STANDARD_SPECIFICATION.md
â”œâ”€â”€ ğŸ“„ KSN_SYNC_DESIGN.md
â”œâ”€â”€ ğŸ“„ THREAT_HANDLING_DESIGN.md
â”œâ”€â”€ ğŸ“„ TRANSACTION_TOKEN_DESIGN.md
â”œâ”€â”€ ğŸ“„ WEB_SOFTPOS_SOLUTION.md
â””â”€â”€ ğŸ“„ *.sh                         # éƒ¨ç½²å’Œæµ‹è¯•è„šæœ¬
```

---

## 1. sunbay-softpos-backend (åç«¯æœåŠ¡)

**æŠ€æœ¯æ ˆ**: Rust 1.75+ + Axum 0.7 + SQLite + Redis  
**ç«¯å£**: 8080  
**å®Œæˆåº¦**: 100% âœ…

### ç›®å½•ç»“æ„

```
sunbay-softpos-backend/
â”œâ”€â”€ ğŸ“ src/                         # æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ api/                     # APIå±‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ handlers/            # è¯·æ±‚å¤„ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.rs             # è®¤è¯API
â”‚   â”‚   â”‚   â”œâ”€â”€ device.rs           # è®¾å¤‡ç®¡ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ key.rs              # å¯†é’¥ç®¡ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ health.rs           # å¥åº·æ£€æŸ¥API
â”‚   â”‚   â”‚   â”œâ”€â”€ threat.rs           # å¨èƒç®¡ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ transaction.rs      # äº¤æ˜“å¤„ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ pinpad.rs           # PINPadæ¨¡å¼API
â”‚   â”‚   â”‚   â”œâ”€â”€ version.rs          # ç‰ˆæœ¬ç®¡ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ kernel.rs           # å†…æ ¸ç®¡ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ audit.rs            # å®¡è®¡æ—¥å¿—API
â”‚   â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ ğŸ“ middleware/          # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.rs             # JWTè®¤è¯
â”‚   â”‚   â”‚   â”œâ”€â”€ rate_limit.rs       # é€Ÿç‡é™åˆ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ logging.rs          # æ—¥å¿—è®°å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.rs          # æ€§èƒ½æŒ‡æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ tracing.rs          # åˆ†å¸ƒå¼è¿½è¸ª
â”‚   â”‚   â”‚   â”œâ”€â”€ prometheus.rs       # Prometheuså¯¼å‡º
â”‚   â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ ğŸ“ websocket/           # WebSocket
â”‚   â”‚   â”‚   â”œâ”€â”€ connection.rs       # è¿æ¥ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.rs     # å®æ—¶é€šçŸ¥
â”‚   â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ routes.rs               # è·¯ç”±å®šä¹‰ (60+ ç«¯ç‚¹)
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ services/                # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ device.rs               # è®¾å¤‡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ key_management.rs       # å¯†é’¥ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ health_check.rs         # å¥åº·æ£€æŸ¥æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ threat_detection.rs     # å¨èƒæ£€æµ‹æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ transaction.rs          # äº¤æ˜“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ transaction_token.rs    # äº¤æ˜“ä»¤ç‰ŒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ version.rs              # ç‰ˆæœ¬æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ kernel.rs               # å†…æ ¸æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ audit.rs                # å®¡è®¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ notification.rs         # é€šçŸ¥æœåŠ¡
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ repositories/            # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ device.rs               # è®¾å¤‡ä»“å‚¨
â”‚   â”‚   â”œâ”€â”€ health_check.rs         # å¥åº·æ£€æŸ¥ä»“å‚¨
â”‚   â”‚   â”œâ”€â”€ threat.rs               # å¨èƒä»“å‚¨
â”‚   â”‚   â”œâ”€â”€ transaction.rs          # äº¤æ˜“ä»“å‚¨
â”‚   â”‚   â”œâ”€â”€ version.rs              # ç‰ˆæœ¬ä»“å‚¨
â”‚   â”‚   â”œâ”€â”€ kernel.rs               # å†…æ ¸ä»“å‚¨
â”‚   â”‚   â”œâ”€â”€ audit.rs                # å®¡è®¡ä»“å‚¨
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ models/                  # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ device.rs               # è®¾å¤‡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ health_check.rs         # å¥åº·æ£€æŸ¥æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ threat.rs               # å¨èƒæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ transaction.rs          # äº¤æ˜“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ transaction_token.rs    # äº¤æ˜“ä»¤ç‰Œæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ version.rs              # ç‰ˆæœ¬æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ kernel.rs               # å†…æ ¸æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ audit_log.rs            # å®¡è®¡æ—¥å¿—æ¨¡å‹
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ dto/                     # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ request.rs              # è¯·æ±‚DTO (30+)
â”‚   â”‚   â”œâ”€â”€ response.rs             # å“åº”DTO (30+)
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ security/                # å®‰å…¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ jwt.rs                  # JWTç®¡ç†
â”‚   â”‚   â”œâ”€â”€ crypto.rs               # åŠ å¯†å·¥å…·
â”‚   â”‚   â”œâ”€â”€ dukpt.rs                # DUKPTå¯†é’¥æ´¾ç”Ÿ
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ infrastructure/          # åŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”œâ”€â”€ config.rs               # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database.rs             # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ redis.rs                # Rediså®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ hsm_client.rs           # HSMå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ error.rs                # é”™è¯¯å¤„ç†
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ main.rs                     # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ lib.rs                      # åº“å…¥å£
â”œâ”€â”€ ğŸ“ tests/                       # æµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“ unit/                    # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“ integration/             # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ ğŸ“ migrations/                  # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ 20240101000001_create_devices.sql
â”‚   â”œâ”€â”€ 20240101000002_create_health_checks.sql
â”‚   â”œâ”€â”€ 20240101000003_create_threat_events.sql
â”‚   â”œâ”€â”€ 20240101000004_create_transactions.sql
â”‚   â”œâ”€â”€ 20240101000005_create_sdk_versions.sql
â”‚   â”œâ”€â”€ 20240101000006_create_audit_logs.sql
â”‚   â””â”€â”€ 20241204000001_create_kernels.sql
â”œâ”€â”€ ğŸ“ config/                      # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ development.yaml
â”‚   â”œâ”€â”€ production.yaml
â”‚   â””â”€â”€ test.yaml
â”œâ”€â”€ ğŸ“ data/                        # æ•°æ®åº“æ–‡ä»¶
â”‚   â””â”€â”€ sunbay_dev.db
â”œâ”€â”€ ğŸ“ uploads/                     # ä¸Šä¼ æ–‡ä»¶
â”‚   â””â”€â”€ kernels/
â”œâ”€â”€ ğŸ“ examples/                    # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ websocket_client_test.html
â”œâ”€â”€ ğŸ“„ Cargo.toml                   # Rustä¾èµ–
â”œâ”€â”€ ğŸ“„ .env                         # ç¯å¢ƒå˜é‡
â”œâ”€â”€ ğŸ“„ README.md
â”œâ”€â”€ ğŸ“„ API_DOCUMENTATION.md         # APIæ–‡æ¡£
â”œâ”€â”€ ğŸ“„ DEVELOPMENT.md               # å¼€å‘æŒ‡å—
â”œâ”€â”€ ğŸ“„ TESTING_GUIDE.md             # æµ‹è¯•æŒ‡å—
â””â”€â”€ ğŸ“„ *.sh                         # éƒ¨ç½²è„šæœ¬
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **APIå±‚** (60+ ç«¯ç‚¹)
   - è®¤è¯æˆæƒ (5ä¸ªç«¯ç‚¹)
   - è®¾å¤‡ç®¡ç† (9ä¸ªç«¯ç‚¹)
   - å¯†é’¥ç®¡ç† (6ä¸ªç«¯ç‚¹)
   - å¥åº·æ£€æŸ¥ (6ä¸ªç«¯ç‚¹)
   - å¨èƒç®¡ç† (5ä¸ªç«¯ç‚¹)
   - äº¤æ˜“å¤„ç† (6ä¸ªç«¯ç‚¹)
   - PINPadæ¨¡å¼ (3ä¸ªç«¯ç‚¹)
   - ç‰ˆæœ¬ç®¡ç† (12ä¸ªç«¯ç‚¹)
   - å†…æ ¸ç®¡ç† (6ä¸ªç«¯ç‚¹)
   - å®¡è®¡æ—¥å¿— (6ä¸ªç«¯ç‚¹)

2. **ä¸šåŠ¡é€»è¾‘å±‚** (9ä¸ªæœåŠ¡)
   - è®¾å¤‡ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - DUKPTå¯†é’¥ç®¡ç†
   - å®æ—¶å¥åº·ç›‘æ§
   - æ™ºèƒ½å¨èƒæ£€æµ‹
   - äº¤æ˜“é‰´è¯å¤„ç†
   - SDKç‰ˆæœ¬ç®¡ç†
   - å†…æ ¸æ‰˜ç®¡åˆ†å‘
   - å®Œæ•´å®¡è®¡è¿½è¸ª
   - WebSocketé€šçŸ¥

3. **æ•°æ®è®¿é—®å±‚** (7ä¸ªä»“å‚¨)
   - è®¾å¤‡ä»“å‚¨
   - å¥åº·æ£€æŸ¥ä»“å‚¨
   - å¨èƒä»“å‚¨
   - äº¤æ˜“ä»“å‚¨
   - ç‰ˆæœ¬ä»“å‚¨
   - å†…æ ¸ä»“å‚¨
   - å®¡è®¡ä»“å‚¨

4. **å®‰å…¨æ¨¡å—**
   - JWTè®¤è¯æˆæƒ
   - RSAå…¬é’¥åŠ å¯†
   - DUKPTå¯†é’¥æ´¾ç”Ÿ
   - Argon2å¯†ç å“ˆå¸Œ

---

## 2. sunbay-softpos-frontend (ç®¡ç†åå°)

**æŠ€æœ¯æ ˆ**: React 18 + TypeScript 5 + Ant Design 5 + Vite  
**ç«¯å£**: 5173 (å¼€å‘) / éƒ¨ç½²åˆ° Vercel  
**å®Œæˆåº¦**: 83% âœ…

### ç›®å½•ç»“æ„

```
sunbay-softpos-frontend/
â”œâ”€â”€ ğŸ“ src/                         # æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ pages/                   # é¡µé¢ç»„ä»¶ (17ä¸ªé¡µé¢)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Dashboard/           # ä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Devices/             # è®¾å¤‡ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ DeviceList.tsx      # è®¾å¤‡åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ DeviceDetail.tsx    # è®¾å¤‡è¯¦æƒ…
â”‚   â”‚   â”‚   â””â”€â”€ DeviceApproval.tsx  # è®¾å¤‡å®¡æ‰¹
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Threats/             # å¨èƒç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Transactions/        # äº¤æ˜“ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TransactionDetail.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ SDKVersions/         # SDKç‰ˆæœ¬ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ VersionList.tsx
â”‚   â”‚   â”‚   â””â”€â”€ VersionDetail.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Kernels/             # å†…æ ¸ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ KernelList.tsx
â”‚   â”‚   â”‚   â””â”€â”€ UploadKernelModal.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Logs/                # ç³»ç»Ÿæ—¥å¿—
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â””â”€â”€ ğŸ“ Login/               # ç™»å½•é¡µé¢
â”‚   â”‚       â””â”€â”€ index.tsx
â”‚   â”œâ”€â”€ ğŸ“ components/              # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ AppLayout.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ common/              # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ DataTable.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ charts/              # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ PieChart.tsx
â”‚   â”‚   â”œâ”€â”€ ğŸ“ devices/             # è®¾å¤‡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityScoreDetail.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ HealthCheckHistory.tsx
â”‚   â”‚   â”‚   â””â”€â”€ KeyManagement.tsx
â”‚   â”‚   â””â”€â”€ ğŸ“ versions/            # ç‰ˆæœ¬ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ CreateVersionModal.tsx
â”‚   â”‚       â””â”€â”€ EditVersionModal.tsx
â”‚   â”œâ”€â”€ ğŸ“ api/                     # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ client.ts               # HTTPå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ auth.ts                 # è®¤è¯API
â”‚   â”‚   â”œâ”€â”€ devices.ts              # è®¾å¤‡API
â”‚   â”‚   â”œâ”€â”€ threats.ts              # å¨èƒAPI
â”‚   â”‚   â”œâ”€â”€ transactions.ts         # äº¤æ˜“API
â”‚   â”‚   â”œâ”€â”€ versions.ts             # ç‰ˆæœ¬API
â”‚   â”‚   â”œâ”€â”€ distributions.ts        # åˆ†å‘API
â”‚   â”‚   â””â”€â”€ kernels.ts              # å†…æ ¸API
â”‚   â”œâ”€â”€ ğŸ“ hooks/                   # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useDevices.ts
â”‚   â”‚   â”œâ”€â”€ useThreats.ts
â”‚   â”‚   â”œâ”€â”€ useTransactions.ts
â”‚   â”‚   â”œâ”€â”€ useSDKVersions.ts
â”‚   â”‚   â””â”€â”€ useKernels.ts
â”‚   â”œâ”€â”€ ğŸ“ stores/                  # çŠ¶æ€ç®¡ç† (Zustand)
â”‚   â”‚   â””â”€â”€ authStore.ts
â”‚   â”œâ”€â”€ ğŸ“ types/                   # TypeScriptç±»å‹
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ device.ts
â”‚   â”‚   â”œâ”€â”€ threat.ts
â”‚   â”‚   â”œâ”€â”€ transaction.ts
â”‚   â”‚   â”œâ”€â”€ version.ts
â”‚   â”‚   â””â”€â”€ log.ts
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ constants.ts
â”‚   â”‚   â””â”€â”€ versionUtils.ts
â”‚   â”œâ”€â”€ ğŸ“ mocks/                   # Mockæ•°æ® (MSW)
â”‚   â”‚   â””â”€â”€ handlers.ts
â”‚   â”œâ”€â”€ App.tsx                     # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ main.tsx                    # ä¸»å…¥å£
â”‚   â””â”€â”€ index.css                   # å…¨å±€æ ·å¼
â”œâ”€â”€ ğŸ“ public/                      # é™æ€èµ„æº
â”‚   â””â”€â”€ mockServiceWorker.js
â”œâ”€â”€ ğŸ“„ package.json
â”œâ”€â”€ ğŸ“„ vite.config.ts
â”œâ”€â”€ ğŸ“„ tsconfig.json
â”œâ”€â”€ ğŸ“„ .env.development             # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ ğŸ“„ .env.production              # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ ğŸ“„ README.md
â”œâ”€â”€ ğŸ“„ DEMO_GUIDE.md                # æ¼”ç¤ºæŒ‡å—
â”œâ”€â”€ ğŸ“„ KERNEL_MANAGEMENT_FEATURE.md # å†…æ ¸ç®¡ç†åŠŸèƒ½æ–‡æ¡£
â””â”€â”€ ğŸ“„ *.md                         # å…¶ä»–æ–‡æ¡£
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **é¡µé¢ç»„ä»¶** (17ä¸ª)
   - ä»ªè¡¨æ¿ (Dashboard)
   - è®¾å¤‡ç®¡ç† (DeviceList, DeviceDetail, DeviceApproval)
   - å¨èƒç®¡ç† (Threats)
   - äº¤æ˜“ç®¡ç† (Transactions, TransactionDetail)
   - SDKç‰ˆæœ¬ç®¡ç† (VersionList, VersionDetail)
   - å†…æ ¸ç®¡ç† (KernelList, UploadKernelModal)
   - ç³»ç»Ÿæ—¥å¿— (Logs)
   - ç™»å½•é¡µé¢ (Login)

2. **æ•°æ®å¯è§†åŒ–**
   - EChartså›¾è¡¨é›†æˆ
   - å®æ—¶æ•°æ®æ›´æ–°
   - å®‰å…¨è¯„åˆ†å±•ç¤º
   - ç»Ÿè®¡æ•°æ®åˆ†æ

3. **çŠ¶æ€ç®¡ç†**
   - Zustandå…¨å±€çŠ¶æ€
   - React Queryæ•°æ®ç¼“å­˜
   - å®æ—¶æ•°æ®åŒæ­¥

4. **UIä¸»é¢˜**
   - Appleé£æ ¼è®¾è®¡
   - ä¸»é¢˜è‰²: #FF6000 (æ©™è‰²)
   - å“åº”å¼å¸ƒå±€
   - æµç•…åŠ¨ç”»æ•ˆæœ

---

## 3. sunbay-softpos-android (Androidåº”ç”¨)

**æŠ€æœ¯æ ˆ**: Kotlin + Jetpack Compose + MVVM  
**SDKç‰ˆæœ¬**: 24-34  
**å®Œæˆåº¦**: 95% âœ…

### ç›®å½•ç»“æ„

```
sunbay-softpos-android/
â”œâ”€â”€ ğŸ“ app/
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â””â”€â”€ ğŸ“ main/
â”‚   â”‚       â”œâ”€â”€ ğŸ“ java/com/sunbay/softpos/
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ ui/                  # UIå±‚
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ screens/         # å±å¹•ç»„ä»¶
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionScreen.kt
â”‚   â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ DeviceInfoScreen.kt
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ SettingsScreen.kt
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/      # UIç»„ä»¶
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“ theme/           # ä¸»é¢˜é…ç½®
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ data/                # æ•°æ®å±‚
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ DeviceManager.kt    # è®¾å¤‡ç®¡ç†
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TransactionTokenManager.kt  # äº¤æ˜“ä»¤ç‰Œ
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ KeyManager.kt       # å¯†é’¥ç®¡ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ network/             # ç½‘ç»œå±‚
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ BackendApi.kt       # Backend API
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ApiModels.kt        # APIæ¨¡å‹
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ security/            # å®‰å…¨å±‚
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TEEManager.kt       # TEEç®¡ç†
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ DUKPTManager.kt     # DUKPTå¯†é’¥
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ AttestationManager.kt  # è®¾å¤‡é‰´è¯
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ nfc/                 # NFCå±‚
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ NFCReader.kt        # NFCè¯»å¡
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ EMVProcessor.kt     # EMVå¤„ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ utils/               # å·¥å…·ç±»
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ FileLogger.kt       # æ–‡ä»¶æ—¥å¿—
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ LocationHelper.kt   # ä½ç½®ä¿¡æ¯
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ CryptoUtils.kt      # åŠ å¯†å·¥å…·
â”‚   â”‚       â”‚   â””â”€â”€ MainActivity.kt         # ä¸»Activity
â”‚   â”‚       â”œâ”€â”€ ğŸ“ res/                     # èµ„æºæ–‡ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ layout/
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ values/
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“ xml/
â”‚   â”‚       â””â”€â”€ AndroidManifest.xml
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ ğŸ“ gradle/
â”œâ”€â”€ ğŸ“„ build.gradle.kts
â”œâ”€â”€ ğŸ“„ settings.gradle.kts
â”œâ”€â”€ ğŸ“„ local.properties
â”œâ”€â”€ ğŸ“„ README.md
â”œâ”€â”€ ğŸ“„ BUILD_GUIDE.md                       # æ„å»ºæŒ‡å—
â”œâ”€â”€ ğŸ“„ TRANSACTION_TOKEN_DEMO_GUIDE.md      # äº¤æ˜“ä»¤ç‰Œæ¼”ç¤º
â””â”€â”€ ğŸ“„ *.sh                                 # æµ‹è¯•è„šæœ¬
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **UIå±‚** (Jetpack Compose)
   - äº¤æ˜“å±å¹• (TransactionScreen)
   - è®¾å¤‡ä¿¡æ¯å±å¹• (DeviceInfoScreen)
   - è®¾ç½®å±å¹• (SettingsScreen)
   - Material Design 3

2. **æ•°æ®å±‚**
   - è®¾å¤‡ç®¡ç† (DeviceManager)
   - äº¤æ˜“ä»¤ç‰Œç®¡ç† (TransactionTokenManager)
   - å¯†é’¥ç®¡ç† (KeyManager)
   - SharedPreferencesæŒä¹…åŒ–

3. **å®‰å…¨å±‚**
   - TEEå¯ä¿¡æ‰§è¡Œç¯å¢ƒ
   - DUKPTå¯†é’¥æ´¾ç”Ÿ
   - Hardware Attestation
   - Root/Hook/Debugæ£€æµ‹

4. **NFCå±‚**
   - NFCè¯»å¡å™¨
   - EMV L2å†…æ ¸å¤„ç†
   - APDUå‘½ä»¤äº¤äº’

5. **ç½‘ç»œå±‚**
   - Retrofit HTTPå®¢æˆ·ç«¯
   - Backend APIé›†æˆ
   - è¯·æ±‚/å“åº”æ¨¡å‹

6. **å·¥å…·å±‚**
   - æ–‡ä»¶æ—¥å¿—ç³»ç»Ÿ
   - ä½ç½®ä¿¡æ¯é‡‡é›†
   - åŠ å¯†å·¥å…·å‡½æ•°

### æµ‹è¯•è„šæœ¬

- `test-complete-flow.sh` - å®Œæ•´æµç¨‹æµ‹è¯•
- `test-transaction-token.sh` - äº¤æ˜“ä»¤ç‰Œæµ‹è¯•
- `test-key-injection.sh` - å¯†é’¥æ³¨å…¥æµ‹è¯•
- `setup-new-device-and-test.sh` - æ–°è®¾å¤‡è®¾ç½®æµ‹è¯•
- `verify-transaction-token-fix.sh` - éªŒè¯ä¿®å¤

---

## 4. sunbay-kernel-service (å†…æ ¸æœåŠ¡)

**æŠ€æœ¯æ ˆ**: Rust + Axum + WebAssembly  
**ç«¯å£**: 3000  
**å®Œæˆåº¦**: 100% âœ…

### ç›®å½•ç»“æ„

```
sunbay-kernel-service/
â”œâ”€â”€ ğŸ“ src/                         # æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ handlers/                # è¯·æ±‚å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ emv.rs                  # EMVå¤„ç†
â”‚   â”‚   â”œâ”€â”€ health.rs               # å¥åº·æ£€æŸ¥
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ services/                # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ emv_service.rs          # EMVæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ apdu_service.rs         # APDUæœåŠ¡
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ models/                  # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ emv.rs                  # EMVæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ apdu.rs                 # APDUæ¨¡å‹
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ error.rs                # é”™è¯¯å¤„ç†
â”‚   â”‚   â””â”€â”€ mod.rs
â”‚   â”œâ”€â”€ lib.rs                      # åº“å…¥å£
â”‚   â””â”€â”€ wasm.rs                     # WASMæ¥å£
â”œâ”€â”€ ğŸ“ pkg/                         # WASMç¼–è¯‘è¾“å‡º
â”‚   â”œâ”€â”€ sunbay_kernel_service_bg.wasm
â”‚   â”œâ”€â”€ sunbay_kernel_service.js
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ ğŸ“„ Cargo.toml
â”œâ”€â”€ ğŸ“„ build-wasm.sh                # WASMç¼–è¯‘è„šæœ¬
â”œâ”€â”€ ğŸ“„ README.md
â”œâ”€â”€ ğŸ“„ API.md                       # APIæ–‡æ¡£
â””â”€â”€ ğŸ“„ ARCHITECTURE.md              # æ¶æ„æ–‡æ¡£
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **EMVå¤„ç†**
   - é€‰æ‹©åº”ç”¨ (SELECT)
   - è¯»å–è®°å½• (READ RECORD)
   - è·å–å¤„ç†é€‰é¡¹ (GPO)
   - APDUå‘½ä»¤å¤„ç†

2. **äº¤æ˜“é‰´è¯**
   - è½¬å‘åˆ°Backend
   - è®¾å¤‡çŠ¶æ€éªŒè¯
   - äº¤æ˜“ä»¤ç‰Œç®¡ç†

3. **å¥åº·æ£€æŸ¥**
   - æœåŠ¡çŠ¶æ€æ£€æŸ¥
   - è®¾å¤‡èƒ½åŠ›æ£€æµ‹

4. **WASMæ”¯æŒ**
   - æµè§ˆå™¨ä¸­è¿è¡Œ
   - è·¨å¹³å°å…¼å®¹
   - é«˜æ€§èƒ½å¤„ç†

### ç‰¹ç‚¹

- **å®Œå…¨æ— çŠ¶æ€**: æ˜“äºæ°´å¹³æ‰©å±•
- **è½»é‡çº§**: å†…å­˜å ç”¨ ~50MB
- **ä½å»¶è¿Ÿ**: EMVå‘½ä»¤å¤„ç† < 100ms
- **é«˜å¹¶å‘**: Tokioå¼‚æ­¥è¿è¡Œæ—¶

---

## 5. sunbay-webkernel-demo (Webæ¼”ç¤º)

**æŠ€æœ¯æ ˆ**: React 19 + TypeScript + WASM + Vite  
**ç«¯å£**: 5173 (å¼€å‘) / éƒ¨ç½²åˆ° https://softpay.sunbay.dev  
**å®Œæˆåº¦**: 100% âœ…

### ç›®å½•ç»“æ„

```
sunbay-webkernel-demo/
â”œâ”€â”€ ğŸ“ src/                         # æºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ components/              # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx           # ç™»å½•è¡¨å•
â”‚   â”‚   â””â”€â”€ PosTerminal.tsx         # POSç»ˆç«¯UI
â”‚   â”œâ”€â”€ ğŸ“ services/                # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ KernelLoader.ts         # å†…æ ¸åŠ è½½å™¨
â”‚   â”œâ”€â”€ ğŸ“ api/                     # APIæ¥å£
â”‚   â”‚   â””â”€â”€ client.ts               # Backendå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“ wasm/                    # WASMç›¸å…³
â”‚   â”œâ”€â”€ config.ts                   # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ App.tsx                     # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ main.tsx                    # ä¸»å…¥å£
â”œâ”€â”€ ğŸ“ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ mock_kernel.wasm            # Mockå†…æ ¸
â”‚   â”œâ”€â”€ sunbay_kernel_service_bg.wasm  # çœŸå®å†…æ ¸
â”‚   â”œâ”€â”€ config.example.json         # é…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ config.production.json      # ç”Ÿäº§é…ç½®
â”œâ”€â”€ ğŸ“„ .env                         # é»˜è®¤ç¯å¢ƒå˜é‡
â”œâ”€â”€ ğŸ“„ .env.development             # å¼€å‘ç¯å¢ƒ (localhost:8080)
â”œâ”€â”€ ğŸ“„ .env.production              # ç”Ÿäº§ç¯å¢ƒ (softpay.sunbay.dev)
â”œâ”€â”€ ğŸ“„ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ package.json
â”œâ”€â”€ ğŸ“„ vite.config.ts
â”œâ”€â”€ ğŸ“„ tsconfig.json
â”œâ”€â”€ ğŸ“„ README.md
â”œâ”€â”€ ğŸ“„ BUILD_GUIDE.md               # æ„å»ºæŒ‡å—
â”œâ”€â”€ ğŸ“„ ENVIRONMENT_CONFIG.md        # ç¯å¢ƒé…ç½®æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ CONFIG.md                    # é…ç½®è¯´æ˜
â”œâ”€â”€ ğŸ“„ QUICK_START.md               # å¿«é€Ÿå¼€å§‹
â””â”€â”€ ğŸ“„ TROUBLESHOOTING.md           # æ•…éšœæ’é™¤
```

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

1. **å†…æ ¸åŠ è½½** (KernelLoader)
   - åŠ¨æ€åŠ è½½WASMå†…æ ¸
   - ä»Backendè·å–æœ€æ–°ç‰ˆæœ¬
   - Mockæ•°æ®fallback
   - å†…æ ¸åˆå§‹åŒ–å’Œç®¡ç†

2. **è®¾å¤‡ç®¡ç†**
   - Device IDæŒä¹…åŒ– (localStorage)
   - è®¾å¤‡æ³¨å†Œ (å›ºå®šIMEI)
   - å¯†é’¥æ³¨å…¥
   - çŠ¶æ€ç®¡ç†

3. **äº¤æ˜“å¤„ç†**
   - äº¤æ˜“é‰´è¯
   - äº¤æ˜“ä»¤ç‰Œè·å–
   - äº¤æ˜“æ‰§è¡Œ
   - ç»“æœå±•ç¤º

4. **ç¯å¢ƒé…ç½®** (v2.1æ–°å¢)
   - ç¯å¢ƒå˜é‡æ”¯æŒ
   - å¼€å‘/ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢
   - è¿è¡Œæ—¶é…ç½®è¦†ç›–
   - é…ç½®ä¼˜å…ˆçº§ç®¡ç†

5. **IPæ£€æµ‹** (v2.1æ–°å¢)
   - å…¬ç½‘IPè‡ªåŠ¨æ£€æµ‹
   - å¤šæœåŠ¡å¤‡ä»½ (ipify, ipapi, ifconfig)
   - è¶…æ—¶å¤„ç†
   - IPæ ¼å¼éªŒè¯

6. **UIç»„ä»¶**
   - POSç»ˆç«¯ç•Œé¢
   - ç™»å½•è¡¨å•
   - çŠ¶æ€æ˜¾ç¤º
   - äº¤æ˜“åé¦ˆ

### é…ç½®ç®¡ç†

**ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§**:
```
.env.local > .env.[mode] > .env
```

**è¿è¡Œæ—¶é…ç½®ä¼˜å…ˆçº§**:
```
config.json > ç¯å¢ƒå˜é‡ > é»˜è®¤å€¼
```

**å¼€å‘ç¯å¢ƒ**:
```bash
npm run dev
# ä½¿ç”¨ .env.development
# åç«¯: http://localhost:8080
```

**ç”Ÿäº§ç¯å¢ƒ**:
```bash
npm run build
# ä½¿ç”¨ .env.production
# åç«¯: https://softpay.sunbay.dev
```

---

## 6. docs/solution (æ–¹æ¡ˆæ–‡æ¡£)

**å®Œæˆåº¦**: 100% âœ…

### ç›®å½•ç»“æ„

```
docs/solution/
â”œâ”€â”€ ğŸ“„ README.md                            # æ–‡æ¡£å¯¼èˆª
â”œâ”€â”€ ğŸ“„ 01-SOLUTION-OVERVIEW.md              # æ–¹æ¡ˆæ¦‚è¿° â­
â”œâ”€â”€ ğŸ“„ 02-ARCHITECTURE.md                   # æ¶æ„è®¾è®¡
â”œâ”€â”€ ğŸ“„ 03-API-REFERENCE.md                  # APIå‚è€ƒ
â”œâ”€â”€ ğŸ“„ 04-SECURITY-DESIGN.md                # å®‰å…¨è®¾è®¡
â”œâ”€â”€ ğŸ“„ 05-DEPLOYMENT-GUIDE.md               # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ ğŸ“„ 06-OPERATIONS-MANUAL.md              # è¿ç»´æ‰‹å†Œ
â”œâ”€â”€ ğŸ“„ 07-USER-GUIDE.md                     # ç”¨æˆ·æŒ‡å—
â”œâ”€â”€ ğŸ“„ 08-DEVELOPER-ONBOARDING.md           # å¼€å‘è€…å…¥é—¨
â”œâ”€â”€ ğŸ“„ 09-GLOSSARY.md                       # æœ¯è¯­è¡¨
â”œâ”€â”€ ğŸ“„ 10-CHANGELOG.md                      # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ ğŸ“„ DOCUMENTATION_UPDATE_SUMMARY.md      # æ–‡æ¡£æ›´æ–°æ€»ç»“
â”œâ”€â”€ ğŸ“„ PROJECT_ARCHITECTURE_TREE.md         # æ¶æ„ç›®å½•æ ‘ (æœ¬æ–‡æ¡£)
â”œâ”€â”€ ğŸ“„ PRESENTATION.md                      # æ¼”ç¤ºæ–‡ç¨¿
â”œâ”€â”€ ğŸ“„ PRESENTATION-GUIDE.md                # æ¼”ç¤ºæŒ‡å—
â”œâ”€â”€ ğŸ“„ slides.md                            # å¹»ç¯ç‰‡
â”œâ”€â”€ ğŸ“„ slides-tech.md                       # æŠ€æœ¯å¹»ç¯ç‰‡
â”œâ”€â”€ ğŸ“„ SLIDES-README.md                     # å¹»ç¯ç‰‡è¯´æ˜
â”œâ”€â”€ ğŸ“„ SLIDES-SUMMARY.md                    # å¹»ç¯ç‰‡æ€»ç»“
â”œâ”€â”€ ğŸ“„ package.json                         # å¹»ç¯ç‰‡ä¾èµ–
â””â”€â”€ ğŸ“„ *.sh                                 # å¹»ç¯ç‰‡è„šæœ¬
```

### æ–‡æ¡£åˆ†ç±»

1. **æ ¸å¿ƒæ–‡æ¡£** (æ‰€æœ‰äºº)
   - 01-SOLUTION-OVERVIEW.md - æ–¹æ¡ˆæ¦‚è¿° â­

2. **æŠ€æœ¯æ–‡æ¡£** (å¼€å‘å›¢é˜Ÿ)
   - 02-ARCHITECTURE.md - æ¶æ„è®¾è®¡
   - 03-API-REFERENCE.md - APIå‚è€ƒ
   - 04-SECURITY-DESIGN.md - å®‰å…¨è®¾è®¡

3. **éƒ¨ç½²è¿ç»´æ–‡æ¡£** (è¿ç»´å›¢é˜Ÿ)
   - 05-DEPLOYMENT-GUIDE.md - éƒ¨ç½²æŒ‡å—
   - 06-OPERATIONS-MANUAL.md - è¿ç»´æ‰‹å†Œ

4. **ç”¨æˆ·æ–‡æ¡£** (ä½¿ç”¨è€…)
   - 07-USER-GUIDE.md - ç”¨æˆ·æŒ‡å—

5. **å¼€å‘æ–‡æ¡£** (æ–°å¼€å‘è€…)
   - 08-DEVELOPER-ONBOARDING.md - å¼€å‘è€…å…¥é—¨

6. **é™„å½•**
   - 09-GLOSSARY.md - æœ¯è¯­è¡¨
   - 10-CHANGELOG.md - æ›´æ–°æ—¥å¿—

7. **æ¼”ç¤ºæ–‡æ¡£**
   - PRESENTATION.md - æ¼”ç¤ºæ–‡ç¨¿
   - slides.md - å¹»ç¯ç‰‡

---

## 7. é¡¹ç›®çº§æ–‡æ¡£

### æ ¹ç›®å½•æ–‡æ¡£

```
SoftPOS/
â”œâ”€â”€ ğŸ“„ README.md                            # é¡¹ç›®æ€»è§ˆ â­
â”œâ”€â”€ ğŸ“„ CHANGELOG.md                         # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ ğŸ“„ KSN_STANDARD_SPECIFICATION.md        # KSNæ ‡å‡†è§„èŒƒ
â”œâ”€â”€ ğŸ“„ KSN_SYNC_DESIGN.md                   # KSNåŒæ­¥è®¾è®¡
â”œâ”€â”€ ğŸ“„ THREAT_HANDLING_DESIGN.md            # å¨èƒå¤„ç†è®¾è®¡
â”œâ”€â”€ ğŸ“„ TRANSACTION_TOKEN_DESIGN.md          # äº¤æ˜“ä»¤ç‰Œè®¾è®¡
â”œâ”€â”€ ğŸ“„ WEB_SOFTPOS_SOLUTION.md              # Webæ–¹æ¡ˆ
â”œâ”€â”€ ğŸ“„ DEBUG_LOGGING_GUIDE.md               # è°ƒè¯•æ—¥å¿—æŒ‡å—
â”œâ”€â”€ ğŸ“„ INTEGRATION_TEST_GUIDE.md            # é›†æˆæµ‹è¯•æŒ‡å—
â””â”€â”€ ğŸ“„ DOCUMENTATION_CLEANUP_GUIDE.md       # æ–‡æ¡£æ¸…ç†æŒ‡å—
```

### éƒ¨ç½²è„šæœ¬

```
SoftPOS/
â”œâ”€â”€ ğŸ“„ build-and-publish-kernel.sh          # æ„å»ºå¹¶å‘å¸ƒå†…æ ¸
â”œâ”€â”€ ğŸ“„ publish-kernel-to-backend.sh         # å‘å¸ƒå†…æ ¸åˆ°Backend
â”œâ”€â”€ ğŸ“„ publish-kernel-to-remote-server.sh   # å‘å¸ƒåˆ°è¿œç¨‹æœåŠ¡å™¨
â”œâ”€â”€ ğŸ“„ restart-backend-with-kernel.sh       # é‡å¯Backend
â””â”€â”€ ğŸ“„ restart-frontend.sh                  # é‡å¯Frontend
```

---

## 8. æŠ€æœ¯æ ˆæ€»è§ˆ

### BackendæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Rust | 1.75+ | ç¼–ç¨‹è¯­è¨€ |
| Axum | 0.7 | Webæ¡†æ¶ |
| SQLx | 0.7 | æ•°æ®åº“æ“ä½œ |
| SQLite | 3.40+ | æ•°æ®åº“ |
| Redis | 7+ | ç¼“å­˜ |
| Tokio | 1.35 | å¼‚æ­¥è¿è¡Œæ—¶ |
| JWT | - | è®¤è¯ |
| Argon2 | - | å¯†ç å“ˆå¸Œ |
| Tracing | - | æ—¥å¿—è¿½è¸ª |

### FrontendæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 18 | UIæ¡†æ¶ |
| TypeScript | 5 | ç¼–ç¨‹è¯­è¨€ |
| Vite | 5 | æ„å»ºå·¥å…· |
| Ant Design | 5 | UIç»„ä»¶åº“ |
| ECharts | 5 | å›¾è¡¨åº“ |
| Zustand | 4 | çŠ¶æ€ç®¡ç† |
| React Query | 5 | æ•°æ®è·å– |
| Axios | 1 | HTTPå®¢æˆ·ç«¯ |

### AndroidæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Kotlin | 1.9+ | ç¼–ç¨‹è¯­è¨€ |
| Jetpack Compose | - | UIæ¡†æ¶ |
| MVVM | - | æ¶æ„æ¨¡å¼ |
| Retrofit | 2 | HTTPå®¢æˆ·ç«¯ |
| OkHttp | 4 | HTTPå¼•æ“ |
| Moshi | 1 | JSONè§£æ |
| TEE | - | å®‰å…¨ç¯å¢ƒ |
| NFC | - | éæ¥è§¦å¼é€šä¿¡ |

### Kernel ServiceæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Rust | 1.75+ | ç¼–ç¨‹è¯­è¨€ |
| Axum | 0.7 | Webæ¡†æ¶ |
| WebAssembly | - | è·¨å¹³å°è¿è¡Œæ—¶ |
| wasm-bindgen | - | WASMç»‘å®š |

### WebKernel DemoæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 19 | UIæ¡†æ¶ |
| TypeScript | 5 | ç¼–ç¨‹è¯­è¨€ |
| Vite | 5 | æ„å»ºå·¥å…· |
| WebAssembly | - | å†…æ ¸è¿è¡Œæ—¶ |

---

## 9. æ•°æ®æµæ¶æ„

### è®¾å¤‡æ³¨å†Œæµç¨‹

```
Android App
    â”‚
    â”œâ”€ 1. ç”ŸæˆTEEå¯†é’¥å¯¹
    â”œâ”€ 2. æ”¶é›†è®¾å¤‡ä¿¡æ¯
    â”œâ”€ 3. æ‰§è¡Œå¥åº·æ£€æŸ¥
    â”‚
    â–¼
Backend API (POST /api/v1/devices/register)
    â”‚
    â”œâ”€ 4. éªŒè¯è®¾å¤‡ä¿¡æ¯
    â”œâ”€ 5. ç”ŸæˆKSN
    â”œâ”€ 6. è®¡ç®—å®‰å…¨è¯„åˆ†
    â”œâ”€ 7. ä¿å­˜åˆ°æ•°æ®åº“
    â”‚
    â–¼
Frontend (è®¾å¤‡å®¡æ‰¹)
    â”‚
    â”œâ”€ 8. ç®¡ç†å‘˜å®¡æ ¸
    â”œâ”€ 9. æ‰¹å‡†/æ‹’ç»
    â”‚
    â–¼
Backend API (POST /api/v1/devices/:id/approve)
    â”‚
    â”œâ”€ 10. æ›´æ–°è®¾å¤‡çŠ¶æ€
    â”œâ”€ 11. å‘é€WebSocketé€šçŸ¥
    â”‚
    â–¼
Android App (è®¾å¤‡æ¿€æ´»)
```

### äº¤æ˜“å¤„ç†æµç¨‹

```
Android App
    â”‚
    â”œâ”€ 1. å¥åº·æ£€æŸ¥
    â”œâ”€ 2. è·å–äº¤æ˜“ä»¤ç‰Œ
    â”‚
    â–¼
Backend API (POST /api/v1/transactions/attest)
    â”‚
    â”œâ”€ 3. éªŒè¯è®¾å¤‡çŠ¶æ€
    â”œâ”€ 4. éªŒè¯å¥åº·è¯„åˆ†
    â”œâ”€ 5. ç”Ÿæˆäº¤æ˜“ä»¤ç‰Œ (5åˆ†é’Ÿæœ‰æ•ˆ)
    â”‚
    â–¼
Android App
    â”‚
    â”œâ”€ 6. NFCè¯»å¡
    â”œâ”€ 7. PINè¾“å…¥
    â”œâ”€ 8. DUKPTåŠ å¯†PIN
    â”‚
    â–¼
Backend API (POST /api/v1/transactions/process)
    â”‚
    â”œâ”€ 9. éªŒè¯äº¤æ˜“ä»¤ç‰Œ
    â”œâ”€ 10. éªŒè¯KSN
    â”œâ”€ 11. è§£å¯†PIN
    â”œâ”€ 12. å¤„ç†äº¤æ˜“
    â”œâ”€ 13. ä¿å­˜äº¤æ˜“è®°å½•
    â”‚
    â–¼
Android App (æ˜¾ç¤ºç»“æœ)
```

### å†…æ ¸åŠ è½½æµç¨‹ (WebKernel Demo)

```
Browser
    â”‚
    â”œâ”€ 1. è®¿é—® https://softpay.sunbay.dev
    â”œâ”€ 2. åŠ è½½ React åº”ç”¨
    â”‚
    â–¼
KernelLoader.ts
    â”‚
    â”œâ”€ 3. æ£€æŸ¥ localStorage (Device ID)
    â”œâ”€ 4. ç™»å½• Backend (JWT)
    â”‚
    â–¼
Backend API (GET /api/v1/kernels/latest)
    â”‚
    â”œâ”€ 5. è¿”å›æœ€æ–°å†…æ ¸ç‰ˆæœ¬
    â”œâ”€ 6. è¿”å›ä¸‹è½½URL
    â”‚
    â–¼
KernelLoader.ts
    â”‚
    â”œâ”€ 7. ä¸‹è½½ WASM å†…æ ¸
    â”œâ”€ 8. ç¼–è¯‘ WebAssembly
    â”œâ”€ 9. åˆå§‹åŒ–å†…æ ¸
    â”‚
    â–¼
PosTerminal.tsx
    â”‚
    â”œâ”€ 10. æ˜¾ç¤º POS ç•Œé¢
    â”œâ”€ 11. å¤„ç†äº¤æ˜“
    â”‚
    â–¼
Backend API (äº¤æ˜“é‰´è¯å’Œå¤„ç†)
```

---

## 10. éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¼€å‘ç¯å¢ƒ (æœ¬åœ°)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend     â”‚  â”‚  Frontend    â”‚  â”‚  Kernel      â”‚
â”‚  :8080       â”‚  â”‚  :5173       â”‚  â”‚  Service     â”‚
â”‚              â”‚  â”‚              â”‚  â”‚  :3000       â”‚
â”‚  cargo run   â”‚  â”‚  npm run dev â”‚  â”‚  cargo run   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                 â”‚                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                   â”‚
          â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
          â”‚  SQLite   â”‚      â”‚   Redis   â”‚
          â”‚  (æœ¬åœ°)   â”‚      â”‚  (æœ¬åœ°)   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”Ÿäº§ç¯å¢ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”Ÿäº§ç¯å¢ƒ (äº‘ç«¯)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    Internet
                        â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Frontend    â”‚  â”‚  WebKernel â”‚
        â”‚   (Vercel)    â”‚  â”‚   Demo     â”‚
        â”‚               â”‚  â”‚  (Vercel)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ HTTPS
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Backend     â”‚
        â”‚   (Systemd)   â”‚
        â”‚   :8080       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚
  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
  â”‚  SQLite   â”‚  â”‚   Redis   â”‚
  â”‚  (æœ¬åœ°)   â”‚  â”‚  (æœ¬åœ°)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. é¡¹ç›®ç»Ÿè®¡æ€»ç»“

### ä»£ç ç»Ÿè®¡

| é¡¹ç›® | æ–‡ä»¶æ•° | ä»£ç è¡Œæ•° | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|---------|--------|------|
| Backend | 50+ | ~15,000 | 100% | âœ… ç”Ÿäº§å°±ç»ª |
| Frontend | 80+ | ~5,000 | 83% | âœ… ç”Ÿäº§å°±ç»ª |
| Android | 60+ | ~8,000 | 95% | âœ… ç”Ÿäº§å°±ç»ª |
| Kernel Service | 20+ | ~3,000 | 100% | âœ… ç”Ÿäº§å°±ç»ª |
| WebKernel Demo | 15+ | ~2,000 | 100% | âœ… ç”Ÿäº§å°±ç»ª |
| **æ€»è®¡** | **225+** | **~33,000** | **88%** | âœ… ç”Ÿäº§å°±ç»ª |

### åŠŸèƒ½ç»Ÿè®¡

| åŠŸèƒ½æ¨¡å— | Backend API | Frontend é¡µé¢ | Android åŠŸèƒ½ | å®Œæˆåº¦ |
|---------|-------------|--------------|-------------|--------|
| è®¤è¯æˆæƒ | 5 | 1 | 1 | 100% |
| è®¾å¤‡ç®¡ç† | 9 | 4 | 1 | 100% |
| å¯†é’¥ç®¡ç† | 6 | 1 | 1 | 100% |
| å¥åº·æ£€æŸ¥ | 6 | 2 | 1 | 100% |
| å¨èƒç®¡ç† | 5 | 2 | - | 100% |
| äº¤æ˜“ç®¡ç† | 6 | 2 | 1 | 100% |
| ç‰ˆæœ¬ç®¡ç† | 12 | 2 | - | 80% |
| å†…æ ¸ç®¡ç† | 6 | 2 | - | 100% |
| å®¡è®¡æ—¥å¿— | 6 | 1 | - | 90% |
| **æ€»è®¡** | **61+** | **17+** | **5** | **95%** |

### æ–‡æ¡£ç»Ÿè®¡

| ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| é¡¹ç›®README | 5 | æ¯ä¸ªå­é¡¹ç›®ä¸€ä¸ª |
| æ–¹æ¡ˆæ–‡æ¡£ | 10 | docs/solutionç›®å½• |
| è®¾è®¡æ–‡æ¡£ | 5 | æ¶æ„å’Œè®¾è®¡è¯´æ˜ |
| æŒ‡å—æ–‡æ¡£ | 15 | å¼€å‘ã€éƒ¨ç½²ã€æµ‹è¯•æŒ‡å— |
| APIæ–‡æ¡£ | 2 | Backendå’ŒKernel Service |
| æ•…éšœæ’é™¤ | 8 | å„ç§é—®é¢˜ä¿®å¤æ–‡æ¡£ |
| **æ€»è®¡** | **45+** | å®Œæ•´çš„æ–‡æ¡£ä½“ç³» |

---

## 12. å¿«é€Ÿå¯¼èˆª

### æˆ‘æ˜¯...

- **äº§å“ç»ç†/ç®¡ç†å±‚** â†’ æŸ¥çœ‹ [README.md](../../README.md) å’Œ [01-SOLUTION-OVERVIEW.md](./01-SOLUTION-OVERVIEW.md)
- **æ¶æ„å¸ˆ** â†’ æŸ¥çœ‹ [02-ARCHITECTURE.md](./02-ARCHITECTURE.md) å’Œæœ¬æ–‡æ¡£
- **åç«¯å¼€å‘** â†’ è¿›å…¥ [sunbay-softpos-backend](../../sunbay-softpos-backend/)
- **å‰ç«¯å¼€å‘** â†’ è¿›å…¥ [sunbay-softpos-frontend](../../sunbay-softpos-frontend/)
- **Androidå¼€å‘** â†’ è¿›å…¥ [sunbay-softpos-android](../../sunbay-softpos-android/)
- **è¿ç»´å·¥ç¨‹å¸ˆ** â†’ æŸ¥çœ‹ [05-DEPLOYMENT-GUIDE.md](./05-DEPLOYMENT-GUIDE.md)
- **æ–°åŠ å…¥å›¢é˜Ÿ** â†’ æŸ¥çœ‹ [08-DEVELOPER-ONBOARDING.md](./08-DEVELOPER-ONBOARDING.md)

---

## 13. è”ç³»æ–¹å¼

- **æŠ€æœ¯æ”¯æŒ**: [å¾…å®š]
- **é—®é¢˜åé¦ˆ**: [GitHub Issues]
- **æ–‡æ¡£ç»´æŠ¤**: SUNBAY æŠ€æœ¯å›¢é˜Ÿ

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.1  
**æœ€åæ›´æ–°**: 2024-12-09  
**ç»´æŠ¤è€…**: SUNBAY æŠ€æœ¯å›¢é˜Ÿ

